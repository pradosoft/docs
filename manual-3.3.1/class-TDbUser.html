<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="generator" content=" ">
	<meta charset="utf-8">

	<meta http-equiv="content-language" content="en">
	<meta name="Keywords" content="PRADO PHP framework component template event property OOP PHP5 object oriented programming Web programming development">
	<meta name="Description" content="PRADO is a component-based and event-driven framework for Web application development in PHP 5.">
	<meta name="Author" content="Qiang Xue">
	<meta name="Subject" content="Web programming, PHP framework">
	<meta name="Language" content="en">
	<link rel="Shortcut Icon" href="/favicon.ico">
	<link rel="stylesheet" type="text/css" href="/css/style.css">
	<link rel="stylesheet" type="text/css" href="/css/manual.css">

	<title>Class TDbUser | PRADO v3.3.1 API Manual</title>

	<link rel="stylesheet" href="resources/style.css?156e1f7b7b33338aff331811a5808582bb99d288">

</head>

<body>

<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
				<h3>Packages</h3>
			<ul>
				<li>
					<a href="package-System.html">
						System<span></span>
					</a>

						<ul>
				<li>
					<a href="package-System.Caching.html">
						Caching					</a>

						</li>
				<li>
					<a href="package-System.Collections.html">
						Collections					</a>

						</li>
				<li>
					<a href="package-System.Data.html">
						Data<span></span>
					</a>

						<ul>
				<li>
					<a href="package-System.Data.ActiveRecord.html">
						ActiveRecord<span></span>
					</a>

						<ul>
				<li>
					<a href="package-System.Data.ActiveRecord.Relations.html">
						Relations					</a>

						</li>
				<li>
					<a href="package-System.Data.ActiveRecord.Scaffold.html">
						Scaffold<span></span>
					</a>

						<ul>
				<li>
					<a href="package-System.Data.ActiveRecord.Scaffold.InputBuilder.html">
						InputBuilder					</a>

						</li>
							</ul></li></ul></li>
				<li>
					<a href="package-System.Data.Commom.html">
						Commom<span></span>
					</a>

						<ul>
				<li>
					<a href="package-System.Data.Commom.Sqlite.html">
						Sqlite					</a>

						</li>
							</ul></li>
				<li>
					<a href="package-System.Data.Common.html">
						Common<span></span>
					</a>

						<ul>
				<li>
					<a href="package-System.Data.Common.Mssql.html">
						Mssql					</a>

						</li>
				<li>
					<a href="package-System.Data.Common.Mysql.html">
						Mysql					</a>

						</li>
				<li>
					<a href="package-System.Data.Common.Oracle.html">
						Oracle					</a>

						</li>
				<li>
					<a href="package-System.Data.Common.Pgsql.html">
						Pgsql					</a>

						</li>
				<li>
					<a href="package-System.Data.Common.Sqlite.html">
						Sqlite					</a>

						</li>
							</ul></li>
				<li>
					<a href="package-System.Data.DataGateway.html">
						DataGateway					</a>

						</li>
				<li>
					<a href="package-System.Data.SqlMap.html">
						SqlMap<span></span>
					</a>

						<ul>
				<li>
					<a href="package-System.Data.SqlMap.Configuration.html">
						Configuration					</a>

						</li>
				<li>
					<a href="package-System.Data.SqlMap.Statements.html">
						Statements					</a>

						</li>
							</ul></li></ul></li>
				<li>
					<a href="package-System.Exceptions.html">
						Exceptions					</a>

						</li>
				<li>
					<a href="package-System.I18N.html">
						I18N					</a>

						</li>
				<li>
					<a href="package-System.IO.html">
						IO					</a>

						</li>
				<li>
					<a href="package-System.Security.html">
						Security					</a>

						</li>
				<li>
					<a href="package-System.Util.html">
						Util					</a>

						</li>
				<li>
					<a href="package-System.Web.html">
						Web<span></span>
					</a>

						<ul>
				<li>
					<a href="package-System.Web.Javascripts.html">
						Javascripts					</a>

						</li>
				<li>
					<a href="package-System.Web.Services.html">
						Services					</a>

						</li>
				<li>
					<a href="package-System.Web.UI.html">
						UI<span></span>
					</a>

						<ul>
				<li>
					<a href="package-System.Web.UI.ActiveControls.html">
						ActiveControls					</a>

						</li>
				<li>
					<a href="package-System.Web.UI.JuiControls.html">
						JuiControls					</a>

						</li>
				<li>
					<a href="package-System.Web.UI.WebControls.html">
						WebControls					</a>

						</li>
							</ul></li></ul></li>
				<li>
					<a href="package-System.Wsat.html">
						Wsat					</a>

						</li>
				<li>
					<a href="package-System.Xml.html">
						Xml					</a>

						</li>
							</ul></li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-TAuthManager.html">TAuthManager</a></li>
				<li><a href="class-TAuthorizationRule.html">TAuthorizationRule</a></li>
				<li><a href="class-TAuthorizationRuleCollection.html">TAuthorizationRuleCollection</a></li>
				<li class="active"><a href="class-TDbUser.html">TDbUser</a></li>
				<li><a href="class-TDbUserManager.html">TDbUserManager</a></li>
				<li><a href="class-TSecurityManager.html">TSecurityManager</a></li>
				<li><a href="class-TSecurityManagerValidationMode.html">TSecurityManagerValidationMode</a></li>
				<li><a href="class-TUser.html">TUser</a></li>
				<li><a href="class-TUserManager.html">TUserManager</a></li>
				<li><a href="class-TUserManagerPasswordMode.html">TUserManagerPasswordMode</a></li>
			</ul>

			<h3>Interfaces</h3>
			<ul>
				<li><a href="class-IUserManager.html">IUserManager</a></li>
			</ul>




		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
<span>Package</span>			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
				<li>
					<a href="annotation-group-deprecated.html" title="List of elements with deprecated annotation">
						<span>Deprecated</span>
					</a>
				</li>
				<li>
					<a href="annotation-group-todo.html" title="List of elements with todo annotation">
						<span>Todo</span>
					</a>
				</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class TDbUser</h1>


	<div class="description">
	<p>TDbUser class</p>

<p>TDbUser is the base user class for using together with <code><a href="class-TDbUserManager.html">TDbUserManager</a></code>.
Two methods are declared and must be implemented in the descendant classes:
- <code><a href="class-TDbUser.html#_validateUser">TDbUser::validateUser()</a></code>: validates if username and password are correct entries.
- <code><a href="class-TDbUser.html#_createUser">TDbUser::createUser()</a></code>: creates a new user instance given the username</p>
	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
			<a href="class-TComponent.html"><span>TComponent</span></a>
			
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by">
			<a href="class-TUser.html"><span>TUser</span></a>
			
			 implements 
				<a href="class-IUser.html"><span>IUser</span></a>
			
			
		</dd>
		<dd style="padding-left:60px">
			<img src="resources/inherit.png" alt="Extended by">
<b><span>TDbUser</span></b>			
			
			
		</dd>
	</dl>








	<div class="info">
		<b>Abstract</b><br>
		
		
		<b>Package:</b> <a href="package-System.html">System</a>\<a href="package-System.Security.html">Security</a><br>

				<b>Copyright:</b>
				Copyright &copy; 2005-2016 The PRADO Group<br>
				<b>License:</b>
				<a href="https://github.com/pradosoft/prado/blob/master/COPYRIGHT">https://github.com/pradosoft/prado/blob/master/COPYRIGHT</a><br>
				<b>Author:</b>
				Qiang Xue <a href="&#x6d;&#97;&#x69;&#108;&#x74;&#111;:&#x71;&#105;&#x61;&#110;&#x67;&#46;&#120;&#x75;&#101;&#x40;&#103;m&#x61;&#105;&#x6c;&#46;&#x63;&#111;m">&#x71;&#105;&#x61;&#110;&#x67;&#46;&#120;&#x75;&#101;&#x40;&#103;m&#x61;&#105;&#x6c;&#46;&#x63;&#111;m</a><br>
				<b>Since:</b>
				3.1.0<br>
			<b>Located at</b> Security/TDbUserManager.php		<br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="getDbConnection" id="_getDbConnection">

		<td class="attributes"><code>
			 public 

			<code><a href="class-TDbConnection.html">TDbConnection</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getDbConnection">#</a>
		<code>getDbConnection( )</code>

		<div class="description short">
			<p>Returns a database connection that may be used to retrieve data from database.</p>
		</div>

		<div class="description detailed hidden">
			<p>Returns a database connection that may be used to retrieve data from database.</p>



				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-TDbConnection.html">TDbConnection</a></code><br>database connection that may be used to retrieve data from database
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="validateUser" id="_validateUser">

		<td class="attributes"><code>
			abstract public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_validateUser">#</a>
		<code>validateUser( <span>string <var>$username</var></span>, <span>string <var>$password</var></span> )</code>

		<div class="description short">
			<p>Validates if username and password are correct entries.
Usually, this is accomplished by checking if the user database
contains this (username, password) pair.
You may use getDbConnection DbConnection to deal with database.</p>
		</div>

		<div class="description detailed hidden">
			<p>Validates if username and password are correct entries.
Usually, this is accomplished by checking if the user database
contains this (username, password) pair.
You may use getDbConnection DbConnection to deal with database.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$username</var></dt>
					<dd>(case-sensitive)</dd>
					<dt><var>$password</var></dt>
					<dd>password</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					boolean<br>whether the validation succeeds
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="createUser" id="_createUser">

		<td class="attributes"><code>
			abstract public 

			<code><a href="class-TDbUser.html">TDbUser</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_createUser">#</a>
		<code>createUser( <span>string <var>$username</var></span> )</code>

		<div class="description short">
			<p>Creates a new user instance given the username.
This method usually needs to retrieve necessary user information
(e.g. role, name, rank, etc.) from the user database according to
the specified username. The newly created user instance should be
initialized with these information.</p>
		</div>

		<div class="description detailed hidden">
			<p>Creates a new user instance given the username.
This method usually needs to retrieve necessary user information
(e.g. role, name, rank, etc.) from the user database according to
the specified username. The newly created user instance should be
initialized with these information.</p>

<p>If the username is invalid (not found in the user database), null
should be returned.</p>

<p>You may use getDbConnection DbConnection to deal with database.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$username</var></dt>
					<dd>(case-sensitive)</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-TDbUser.html">TDbUser</a></code><br>the newly created and initialized user instance
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="createUserFromCookie" id="_createUserFromCookie">

		<td class="attributes"><code>
			 public 

			<code><a href="class-TDbUser.html">TDbUser</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_createUserFromCookie">#</a>
		<code>createUserFromCookie( <span><code><a href="class-THttpCookie.html">THttpCookie</a></code> <var>$cookie</var></span> )</code>

		<div class="description short">
			<p>Creates a new user instance given the cookie containing auth data.</p>
		</div>

		<div class="description detailed hidden">
			<p>Creates a new user instance given the cookie containing auth data.</p>

<p>This method is invoked when <a href="TAuthManager::setAllowAutoLogin">AllowAutoLogin</a> is set true.
The default implementation simply returns null, meaning no user instance can be created
from the given cookie.</p>

<p>If you want to support automatic login (remember login), you should override this method.
Typically, you obtain the username and a unique token from the cookie's value.
You then verify the token is valid and use the username to create a user instance.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$cookie</var></dt>
					<dd>cookie storing user authentication information</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-TDbUser.html">TDbUser</a></code><br>the user instance generated based on the cookie auth data, null if the cookie does not have valid auth data.
				</div>


				<h4>Since</h4>
				<div class="list">
						3.1.1<br>
				</div>
				<h4>See</h4>
				<div class="list">
						<code><a href="class-TDbUser.html#_saveUserToCookie">TDbUser::saveUserToCookie()</a></code><br>
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="saveUserToCookie" id="_saveUserToCookie">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_saveUserToCookie">#</a>
		<code>saveUserToCookie( <span><code><a href="class-THttpCookie.html">THttpCookie</a></code> <var>$cookie</var></span> )</code>

		<div class="description short">
			<p>Saves necessary auth data into a cookie.
This method is invoked when <a href="TAuthManager::setAllowAutoLogin">AllowAutoLogin</a> is set true.
The default implementation does nothing, meaning auth data is not stored in the cookie
(and thus automatic login is not supported.)</p>
		</div>

		<div class="description detailed hidden">
			<p>Saves necessary auth data into a cookie.
This method is invoked when <a href="TAuthManager::setAllowAutoLogin">AllowAutoLogin</a> is set true.
The default implementation does nothing, meaning auth data is not stored in the cookie
(and thus automatic login is not supported.)</p>

<p>If you want to support automatic login (remember login), you should override this method.
Typically, you generate a unique token according to the current login information
and save it together with the username in the cookie's value.
You should avoid revealing the password in the generated token.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$cookie</var></dt>
					<dd>cookie to store the user auth information</dd>
				</dl></div>



				<h4>Since</h4>
				<div class="list">
						3.1.1<br>
				</div>
				<h4>See</h4>
				<div class="list">
						<code><a href="class-TDbUser.html#_createUserFromCookie">TDbUser::createUserFromCookie()</a></code><br>
				</div>


		</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-TUser.html#methods">TUser</a></caption>
	<tr>
		<td><code>
			<a href="class-TUser.html#___construct">__construct()</a>, 
			<a href="class-TUser.html#_getIsGuest">getIsGuest()</a>, 
			<a href="class-TUser.html#_getManager">getManager()</a>, 
			<a href="class-TUser.html#_getName">getName()</a>, 
			<a href="class-TUser.html#_getRoles">getRoles()</a>, 
			<a href="class-TUser.html#_getState">getState()</a>, 
			<a href="class-TUser.html#_getStateChanged">getStateChanged()</a>, 
			<a href="class-TUser.html#_isInRole">isInRole()</a>, 
			<a href="class-TUser.html#_loadFromString">loadFromString()</a>, 
			<a href="class-TUser.html#_saveToString">saveToString()</a>, 
			<a href="class-TUser.html#_setIsGuest">setIsGuest()</a>, 
			<a href="class-TUser.html#_setName">setName()</a>, 
			<a href="class-TUser.html#_setRoles">setRoles()</a>, 
			<a href="class-TUser.html#_setState">setState()</a>, 
			<a href="class-TUser.html#_setStateChanged">setStateChanged()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-TComponent.html#methods">TComponent</a></caption>
	<tr>
		<td><code>
			<a href="class-TComponent.html#___call">__call()</a>, 
			<a href="class-TComponent.html#___destruct">__destruct()</a>, 
			<a href="class-TComponent.html#___get">__get()</a>, 
			<a href="class-TComponent.html#___isset">__isset()</a>, 
			<a href="class-TComponent.html#___set">__set()</a>, 
			<a href="class-TComponent.html#___sleep">__sleep()</a>, 
			<a href="class-TComponent.html#___unset">__unset()</a>, 
			<a href="class-TComponent.html#__getZappableSleepProps">_getZappableSleepProps()</a>, 
			<a href="class-TComponent.html#_addParsedObject">addParsedObject()</a>, 
			<a href="class-TComponent.html#_asa">asa()</a>, 
			<a href="class-TComponent.html#_attachBehavior">attachBehavior()</a>, 
			<a href="class-TComponent.html#_attachBehaviors">attachBehaviors()</a>, 
			<a href="class-TComponent.html#_attachClassBehavior">attachClassBehavior()</a>, 
			<a href="class-TComponent.html#_attachEventHandler">attachEventHandler()</a>, 
			<a href="class-TComponent.html#_canGetProperty">canGetProperty()</a>, 
			<a href="class-TComponent.html#_canSetProperty">canSetProperty()</a>, 
			<a href="class-TComponent.html#_clearBehaviors">clearBehaviors()</a>, 
			<a href="class-TComponent.html#_createdOnTemplate">createdOnTemplate()</a>, 
			<a href="class-TComponent.html#_detachBehavior">detachBehavior()</a>, 
			<a href="class-TComponent.html#_detachBehaviors">detachBehaviors()</a>, 
			<a href="class-TComponent.html#_detachClassBehavior">detachClassBehavior()</a>, 
			<a href="class-TComponent.html#_detachEventHandler">detachEventHandler()</a>, 
			<a href="class-TComponent.html#_disableBehavior">disableBehavior()</a>, 
			<a href="class-TComponent.html#_disableBehaviors">disableBehaviors()</a>, 
			<a href="class-TComponent.html#_enableBehavior">enableBehavior()</a>, 
			<a href="class-TComponent.html#_enableBehaviors">enableBehaviors()</a>, 
			<a href="class-TComponent.html#_evaluateExpression">evaluateExpression()</a>, 
			<a href="class-TComponent.html#_evaluateStatements">evaluateStatements()</a>, 
			<a href="class-TComponent.html#_fxAttachClassBehavior">fxAttachClassBehavior()</a>, 
			<a href="class-TComponent.html#_fxDetachClassBehavior">fxDetachClassBehavior()</a>, 
			<a href="class-TComponent.html#_getAutoGlobalListen">getAutoGlobalListen()</a>, 
			<a href="class-TComponent.html#_getBehaviorsEnabled">getBehaviorsEnabled()</a>, 
			<a href="class-TComponent.html#_getClassHierarchy">getClassHierarchy()</a>, 
			<a href="class-TComponent.html#_getEventHandlers">getEventHandlers()</a>, 
			<a href="class-TComponent.html#_getListeningToGlobalEvents">getListeningToGlobalEvents()</a>, 
			<a href="class-TComponent.html#_getSubProperty">getSubProperty()</a>, 
			<a href="class-TComponent.html#_hasEvent">hasEvent()</a>, 
			<a href="class-TComponent.html#_hasEventHandler">hasEventHandler()</a>, 
			<a href="class-TComponent.html#_hasProperty">hasProperty()</a>, 
			<a href="class-TComponent.html#_isa">isa()</a>, 
			<a href="class-TComponent.html#_listen">listen()</a>, 
			<a href="class-TComponent.html#_raiseEvent">raiseEvent()</a>, 
			<a href="class-TComponent.html#_setSubProperty">setSubProperty()</a>, 
			<a href="class-TComponent.html#_unlisten">unlisten()</a>
		</code></td>
	</tr>
	</table>








	<table class="summary inherited">
	<caption>Constants inherited from <a href="class-TComponent.html#constants">TComponent</a></caption>
	<tr>
		<td><code>
			<a href="class-TComponent.html#GLOBAL_RAISE_EVENT_LISTENER"><b>GLOBAL_RAISE_EVENT_LISTENER</b></a>
		</code></td>
	</tr>
	</table>









</div>

	<div id="footer">
		PRADO v3.3.1 API Manual API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>

<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
