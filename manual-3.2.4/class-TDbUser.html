<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.8.0" />

	<meta http-equiv="content-language" content="en" />
	<meta name="Keywords" content="PRADO PHP framework component template delphi asp.net event property OOP PHP5 object oriented programming Web programming development" />
	<meta name="Description" content="PRADO is a component-based and event-driven framework for Web application development in PHP 5." />
	<meta name="Author" content="Qiang Xue" />
	<meta name="Subject" content="Web programming, PHP framework" />
	<meta name="Language" content="en" />
	<link rel="Shortcut Icon" href="/favicon.ico" />
	<link rel="stylesheet" type="text/css" href="/css/style.css" />
	<link rel="stylesheet" type="text/css" href="/css/manual.css" />

	<title>Class TDbUser | PRADO v3.2.4 API Manual</title>

	<script type="text/javascript" src="resources/combined.js?493275287"></script>
	<script type="text/javascript" src="elementlist.js?2131753225"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?356060597" />

</head>

<body>

	<div id="page">
		<div id="header">
			<div id="logo"><img src="/css/pradoheader.gif" alt="PRADO Component Framework for PHP 5" /></div>
			<div id="mainmenu">
				<ul>
					<li><a href="/">Home</a></li>
					<li><a href="/about/" >About</a></li>
					<li><a href="/testimonials/" >Testimonials</a></li>
					<li><a href="/demos/" >Demos</a></li>
					<li><a href="/download/" >Download</a></li>
					<li><a href="/documentation/" class="active">Documentation</a></li>
					<li><a href="/forum/" >Forum</a></li>
					<li><a href="http://github.com/pradosoft/prado">Development</a></li>
				</ul>
			</div><!-- mainmenu -->
		</div><!-- header -->
		<div id="main">
			<div id="navbar">
				<ul>
					<li><a href="/tutorials/">Tutorials</a></li>
					<li><a href="/docs/classdoc/">Class Docs</a></li>
					<li><a href="/docs/manual/" class="active">API Manual</a></li>
					<li><a href="/wiki/">Wiki</a></li>
				</ul>
			</div>

<table id="maintable">
	<tr>
		<td id="left">
	<div id="menu">

		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li><a href="package-None.html">None</a>
						</li>
				<li class="active"><a href="package-System.html">System<span></span></a>
						<ul>
				<li><a href="package-System.Caching.html">Caching</a>
						</li>
				<li><a href="package-System.Collections.html">Collections</a>
						</li>
				<li><a href="package-System.Data.html">Data<span></span></a>
						<ul>
				<li><a href="package-System.Data.ActiveRecord.html">ActiveRecord<span></span></a>
						<ul>
				<li><a href="package-System.Data.ActiveRecord.Relations.html">Relations</a>
						</li>
				<li><a href="package-System.Data.ActiveRecord.Scaffold.html">Scaffold<span></span></a>
						<ul>
				<li><a href="package-System.Data.ActiveRecord.Scaffold.InputBuilder.html">InputBuilder</a>
						</li>
							</ul></li></ul></li>
				<li><a href="package-System.Data.Commom.html">Commom<span></span></a>
						<ul>
				<li><a href="package-System.Data.Commom.Sqlite.html">Sqlite</a>
						</li>
							</ul></li>
				<li><a href="package-System.Data.Common.html">Common<span></span></a>
						<ul>
				<li><a href="package-System.Data.Common.Mssql.html">Mssql</a>
						</li>
				<li><a href="package-System.Data.Common.Mysql.html">Mysql</a>
						</li>
				<li><a href="package-System.Data.Common.Oracle.html">Oracle</a>
						</li>
				<li><a href="package-System.Data.Common.Pgsql.html">Pgsql</a>
						</li>
				<li><a href="package-System.Data.Common.Sqlite.html">Sqlite</a>
						</li>
							</ul></li>
				<li><a href="package-System.Data.DataGateway.html">DataGateway</a>
						</li>
				<li><a href="package-System.Data.SqlMap.html">SqlMap<span></span></a>
						<ul>
				<li><a href="package-System.Data.SqlMap.Configuration.html">Configuration</a>
						</li>
				<li><a href="package-System.Data.SqlMap.Statements.html">Statements</a>
						</li>
							</ul></li></ul></li>
				<li><a href="package-System.Exceptions.html">Exceptions</a>
						</li>
				<li><a href="package-System.I18N.html">I18N</a>
						</li>
				<li><a href="package-System.IO.html">IO</a>
						</li>
				<li class="active"><a href="package-System.Security.html">Security</a>
						</li>
				<li><a href="package-System.Util.html">Util</a>
						</li>
				<li><a href="package-System.Web.html">Web<span></span></a>
						<ul>
				<li><a href="package-System.Web.Javascripts.html">Javascripts</a>
						</li>
				<li><a href="package-System.Web.Services.html">Services</a>
						</li>
				<li><a href="package-System.Web.UI.html">UI<span></span></a>
						<ul>
				<li><a href="package-System.Web.UI.ActiveControls.html">ActiveControls</a>
						</li>
				<li><a href="package-System.Web.UI.WebControls.html">WebControls</a>
						</li>
							</ul></li></ul></li>
				<li><a href="package-System.Xml.html">Xml</a>
						</li>
							</ul></li>
				<li><a href="package-Wsat.html">Wsat<span></span></a>
						<ul>
				<li><a href="package-Wsat.pages.html">pages</a>
						</li>
							</ul></li>
			</ul>
		</div>

	</div>
</div>

</td>
<td id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="package-System.Security.html" title="Summary of System\Security"><span>Package</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
			<li>
				<a href="deprecated.html" title="List of deprecated elements"><span>Deprecated</span></a>
			</li>
			<li>
				<a href="todo.html" title="Todo list"><span>Todo</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class TDbUser</h1>


	<div class="description">
	
<p>TDbUser class</p>

<p>TDbUser is the base user class for using together with <code><a href="class-TDbUserManager.html">TDbUserManager</a></code>. Two methods are declared and must be implemented in the
descendant classes:</p>

<ul>
	<li><code><a href="class-TDbUser.html#_validateUser">TDbUser::validateUser()</a></code>: validates if username and password are correct
	entries.</li>

	<li><code><a href="class-TDbUser.html#_createUser">TDbUser::createUser()</a></code>: creates a new user instance given the username</li>
</ul>

	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
			<a href="class-TComponent.html"><span>TComponent</span></a>
			
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-TUser.html"><span>TUser</span></a>
			
			 implements 
				<a href="class-IUser.html"><span>IUser</span></a>
			
			
		</dd>
		<dd style="padding-left:60px">
			<img src="resources/inherit.png" alt="Extended by" />
<b><span>TDbUser</span></b>			
			
			
		</dd>
	</dl>








	<div class="info">
		<b>Abstract</b><br />
		
		
		<b>Package:</b> <a href="package-System.html">System</a>\<a href="package-System.Security.html">Security</a><br />

				<b>Copyright:</b>
				Copyright Â© 2005-2014 PradoSoft<br />
				<b>License:</b>
				<a href="http://www.pradosoft.com/license/">http://www.pradosoft.com/license/</a><br />
				<b>Author:</b>
				Qiang Xue &lt;<a
href="mailto:qiang.xue&#64;gmail.com">qiang.xue&#64;<!-- -->gmail.com</a>&gt;<br />
				<b>Since:</b>
				3.1.0<br />
		<b>Located at</b> Security/TDbUserManager.php<br />
	</div>



	<table class="summary" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="getDbConnection" id="_getDbConnection">

		<td class="attributes"><code>
			 public 
			<code><a href="class-TDbConnection.html">TDbConnection</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getDbConnection">#</a>
		<code>getDbConnection( )</code>

		<div class="description short">
			
<p>Returns a database connection that may be used to retrieve data from
database.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Returns a database connection that may be used to retrieve data from
database.</p>




				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-TDbConnection.html">TDbConnection</a></code></code><br>database connection that may be used to retrieve data from database<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="validateUser" id="_validateUser">

		<td class="attributes"><code>
			abstract public 
			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_validateUser">#</a>
		<code>validateUser( <span>string <var>$username</var></span>, <span>string <var>$password</var></span> )</code>

		<div class="description short">
			
<p>Validates if username and password are correct entries. Usually, this is
accomplished by checking if the user database contains this (username, password)
pair. You may use getDbConnection DbConnection to deal with
database.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Validates if username and password are correct entries. Usually, this is
accomplished by checking if the user database contains this (username, password)
pair. You may use getDbConnection DbConnection to deal with
database.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$username</var></dt>
					<dd><code>string</code><br>username (case-sensitive)</dd>
					<dt><var>$password</var></dt>
					<dd><code>string</code><br>password</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br>whether the validation succeeds<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="createUser" id="_createUser">

		<td class="attributes"><code>
			abstract public 
			<code><a href="class-TDbUser.html">TDbUser</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_createUser">#</a>
		<code>createUser( <span>string <var>$username</var></span> )</code>

		<div class="description short">
			
<p>Creates a new user instance given the username. This method usually needs to
retrieve necessary user information (e.g. role, name, rank, etc.) from the user
database according to the specified username. The newly created user instance
should be initialized with these information.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Creates a new user instance given the username. This method usually needs to
retrieve necessary user information (e.g. role, name, rank, etc.) from the user
database according to the specified username. The newly created user instance
should be initialized with these information.</p>

<p>If the username is invalid (not found in the user database), null should be
returned.</p>

<p>You may use getDbConnection DbConnection to deal with database.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$username</var></dt>
					<dd><code>string</code><br>username (case-sensitive)</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-TDbUser.html">TDbUser</a></code></code><br>the newly created and initialized user instance<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="createUserFromCookie" id="_createUserFromCookie">

		<td class="attributes"><code>
			 public 
			<code><a href="class-TDbUser.html">TDbUser</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_createUserFromCookie">#</a>
		<code>createUserFromCookie( <span><code><a href="class-THttpCookie.html">THttpCookie</a></code> <var>$cookie</var></span> )</code>

		<div class="description short">
			
<p>Creates a new user instance given the cookie containing auth data.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Creates a new user instance given the cookie containing auth data.</p>

<p>This method is invoked when TAuthManager::setAllowAutoLogin
AllowAutoLogin is set true. The default implementation simply returns null,
meaning no user instance can be created from the given cookie.</p>

<p>If you want to support automatic login (remember login), you should override
this method. Typically, you obtain the username and a unique token from the
cookie's value. You then verify the token is valid and use the username to
create a user instance.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$cookie</var></dt>
					<dd><code><code><a href="class-THttpCookie.html">THttpCookie</a></code></code><br>the cookie storing user authentication information</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-TDbUser.html">TDbUser</a></code></code><br>the user instance generated based on the cookie auth data, null if the cookie
does not have valid auth data.<br />
				</div>


				<h4>Since</h4>
				<div class="list">
						3.1.1<br />
				</div>
				<h4>See</h4>
				<div class="list">
						<code><code><a href="class-TDbUser.html#_saveUserToCookie">TDbUser::saveUserToCookie()</a></code></code><br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="saveUserToCookie" id="_saveUserToCookie">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_saveUserToCookie">#</a>
		<code>saveUserToCookie( <span><code><a href="class-THttpCookie.html">THttpCookie</a></code> <var>$cookie</var></span> )</code>

		<div class="description short">
			
<p>Saves necessary auth data into a cookie. This method is invoked when TAuthManager::setAllowAutoLogin AllowAutoLogin is set true. The default
implementation does nothing, meaning auth data is not stored in the cookie (and
thus automatic login is not supported.)</p>

		</div>

		<div class="description detailed hidden">
			
<p>Saves necessary auth data into a cookie. This method is invoked when TAuthManager::setAllowAutoLogin AllowAutoLogin is set true. The default
implementation does nothing, meaning auth data is not stored in the cookie (and
thus automatic login is not supported.)</p>

<p>If you want to support automatic login (remember login), you should override
this method. Typically, you generate a unique token according to the current
login information and save it together with the username in the cookie's value.
You should avoid revealing the password in the generated token.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$cookie</var></dt>
					<dd><code><code><a href="class-THttpCookie.html">THttpCookie</a></code></code><br>the cookie to store the user auth information</dd>
				</dl></div>



				<h4>Since</h4>
				<div class="list">
						3.1.1<br />
				</div>
				<h4>See</h4>
				<div class="list">
						<code><code><a href="class-TDbUser.html#_createUserFromCookie">TDbUser::createUserFromCookie()</a></code></code><br />
				</div>


		</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-TUser.html#methods">TUser</a></caption>
	<tr>
		<td><code>
			<a href="class-TUser.html#___construct">__construct()</a>, 
			<a href="class-TUser.html#_getIsGuest">getIsGuest()</a>, 
			<a href="class-TUser.html#_getManager">getManager()</a>, 
			<a href="class-TUser.html#_getName">getName()</a>, 
			<a href="class-TUser.html#_getRoles">getRoles()</a>, 
			<a href="class-TUser.html#_getState">getState()</a>, 
			<a href="class-TUser.html#_getStateChanged">getStateChanged()</a>, 
			<a href="class-TUser.html#_isInRole">isInRole()</a>, 
			<a href="class-TUser.html#_loadFromString">loadFromString()</a>, 
			<a href="class-TUser.html#_saveToString">saveToString()</a>, 
			<a href="class-TUser.html#_setIsGuest">setIsGuest()</a>, 
			<a href="class-TUser.html#_setName">setName()</a>, 
			<a href="class-TUser.html#_setRoles">setRoles()</a>, 
			<a href="class-TUser.html#_setState">setState()</a>, 
			<a href="class-TUser.html#_setStateChanged">setStateChanged()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-TComponent.html#methods">TComponent</a></caption>
	<tr>
		<td><code>
			<a href="class-TComponent.html#___call">__call()</a>, 
			<a href="class-TComponent.html#___destruct">__destruct()</a>, 
			<a href="class-TComponent.html#___get">__get()</a>, 
			<a href="class-TComponent.html#___isset">__isset()</a>, 
			<a href="class-TComponent.html#___set">__set()</a>, 
			<a href="class-TComponent.html#___sleep">__sleep()</a>, 
			<a href="class-TComponent.html#___unset">__unset()</a>, 
			<a href="class-TComponent.html#___wakeup">__wakeup()</a>, 
			<a href="class-TComponent.html#_addParsedObject">addParsedObject()</a>, 
			<a href="class-TComponent.html#_asa">asa()</a>, 
			<a href="class-TComponent.html#_attachBehavior">attachBehavior()</a>, 
			<a href="class-TComponent.html#_attachBehaviors">attachBehaviors()</a>, 
			<a href="class-TComponent.html#_attachClassBehavior">attachClassBehavior()</a>, 
			<a href="class-TComponent.html#_attachEventHandler">attachEventHandler()</a>, 
			<a href="class-TComponent.html#_canGetProperty">canGetProperty()</a>, 
			<a href="class-TComponent.html#_canSetProperty">canSetProperty()</a>, 
			<a href="class-TComponent.html#_clearBehaviors">clearBehaviors()</a>, 
			<a href="class-TComponent.html#_createdOnTemplate">createdOnTemplate()</a>, 
			<a href="class-TComponent.html#_detachBehavior">detachBehavior()</a>, 
			<a href="class-TComponent.html#_detachBehaviors">detachBehaviors()</a>, 
			<a href="class-TComponent.html#_detachClassBehavior">detachClassBehavior()</a>, 
			<a href="class-TComponent.html#_detachEventHandler">detachEventHandler()</a>, 
			<a href="class-TComponent.html#_disableBehavior">disableBehavior()</a>, 
			<a href="class-TComponent.html#_disableBehaviors">disableBehaviors()</a>, 
			<a href="class-TComponent.html#_enableBehavior">enableBehavior()</a>, 
			<a href="class-TComponent.html#_enableBehaviors">enableBehaviors()</a>, 
			<a href="class-TComponent.html#_evaluateExpression">evaluateExpression()</a>, 
			<a href="class-TComponent.html#_evaluateStatements">evaluateStatements()</a>, 
			<a href="class-TComponent.html#_fxAttachClassBehavior">fxAttachClassBehavior()</a>, 
			<a href="class-TComponent.html#_fxDetachClassBehavior">fxDetachClassBehavior()</a>, 
			<a href="class-TComponent.html#_getAutoGlobalListen">getAutoGlobalListen()</a>, 
			<a href="class-TComponent.html#_getBehaviorsEnabled">getBehaviorsEnabled()</a>, 
			<a href="class-TComponent.html#_getClassHierarchy">getClassHierarchy()</a>, 
			<a href="class-TComponent.html#_getEventHandlers">getEventHandlers()</a>, 
			<a href="class-TComponent.html#_getListeningToGlobalEvents">getListeningToGlobalEvents()</a>, 
			<a href="class-TComponent.html#_getSubProperty">getSubProperty()</a>, 
			<a href="class-TComponent.html#_hasEvent">hasEvent()</a>, 
			<a href="class-TComponent.html#_hasEventHandler">hasEventHandler()</a>, 
			<a href="class-TComponent.html#_hasProperty">hasProperty()</a>, 
			<a href="class-TComponent.html#_isa">isa()</a>, 
			<a href="class-TComponent.html#_listen">listen()</a>, 
			<a href="class-TComponent.html#_raiseEvent">raiseEvent()</a>, 
			<a href="class-TComponent.html#_setSubProperty">setSubProperty()</a>, 
			<a href="class-TComponent.html#_unlisten">unlisten()</a>
		</code></td>
	</tr>
	</table>








	<table class="summary inherited">
	<caption>Constants inherited from <a href="class-TComponent.html#constants">TComponent</a></caption>
	<tr>
		<td><code>
			<a href="class-TComponent.html#GLOBAL_RAISE_EVENT_LISTENER"><b>GLOBAL_RAISE_EVENT_LISTENER</b></a>
		</code></td>
	</tr>
	</table>









</div>

</div>

</td>
	</tr>
</table>

</div><!-- main -->

<div id="footer">
  <a href="/tos/">Terms of Service</a> |
  <a href="/support/">Contact Us</a>
  <br />
  PRADO v3.2.4 API Manual API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
  <br />Copyright &copy; 2006-2014 by the PRADO Group.<br />
  <a title="Powered by PRADO" href="http://www.pradosoft.com/"><img src="http://www.pradosoft.com/images/powered2.gif" style="border-width:0px;" alt="Powered by PRADO" /></a>
</div>

</div><!-- page -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-186303-3";
urchinTracker();
</script>
</body>
</html>
